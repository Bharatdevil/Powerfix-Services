{% extends "admin/admin_base.html" %} {% block content %}

<div class="d-flex justify-content-between mb-4">
  <h4 class="font-weight-bold text-dark">
    <span class="text-warning">â– </span> Electricians

  </h4>

  <!-- ADD ELECTRICIAN BUTTON -->
  <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#addElectricianModal">
    + Add Electrician
  </button>
</div>

<!-- ELECTRICIAN LIST -->
<table class="table table-dark table-hover">
  <thead>
    <tr>
      <th>Name</th>
      <th>Qualification</th>
      <th>Contact</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for e in electricians %}
    <tr>
      <td>{{ e.e_fullname }}</td>
      <td>{{ e.e_qualification }}</td>
      <td>{{ e.e_contact }}</td>
      <td>
        <a href="{% url 'update_electrician' e.id %}" class="btn btn-warning btn-sm">
          Update
        </a>
        <a href="{% url 'delete_electrician' e.id %}" class="btn btn-danger btn-sm"
          onclick="return confirm('Delete this electrician?')">
          Delete
        </a>
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="4" class="text-center">No electricians added</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<!-- ========== ADD ELECTRICIAN MODAL ========== -->
<div class="modal fade" id="addElectricianModal" tabindex="-1">
  <div class="modal-dialog">
    <form method="post" class="modal-content bg-dark text-white">
      {% csrf_token %}

      <div class="modal-header">
        <h5 class="modal-title text-warning">Add Electrician</h5>
        <button type="button" class="close text-warning" data-dismiss="modal">
          &times;
        </button>
      </div>

      <div class="modal-body">
        <input name="fullname" class="form-control mb-2" placeholder="Full name" required />
        <input name="qualification" class="form-control mb-2" placeholder="Qualification" required />
        <input name="email" type="email" class="form-control mb-2" placeholder="Email" required />
        <input name="contact" class="form-control mb-2" placeholder="Contact" required />
        <input name="login_id" class="form-control mb-2" placeholder="Login ID" required />
        <input name="password" type="password" class="form-control mb-2" placeholder="Password" required />
        <textarea name="address" class="form-control" placeholder="Address" required></textarea>

      </div>

      <div class="modal-footer">
        <button class="btn btn-warning font-weight-bold">Save</button>
      </div>
    </form>
  </div>
</div>

{% endblock %}