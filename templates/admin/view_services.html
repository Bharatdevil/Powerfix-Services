{% extends "admin/admin_base.html" %} {% block content %}

<div class="d-flex justify-content-between mb-4">
  <h4 class="font-weight-bold text-dark">
    <span class="text-warning">■</span> Services
  </h4>

  <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#addServiceModal">
    + Add Service
  </button>
</div>

<table class="table table-dark">
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Price</th>
    <th>Action</th>
  </tr>

  {% for s in services %}
  <tr>
    <td>{{ s.s_name }}</td>
    <td>{{ s.s_description }}</td>
    <td>₹{{ s.s_price }}</td>
    <!-- <td>#{{ s.e_id.e_fullname }}</td> -->
    <td>
      <a href="{% url 'update_service' s.id %}" class="btn btn-sm btn-warning">
        Update
      </a>
      <a href="{% url 'delete_service' s.id %}" class="btn btn-sm btn-danger"
        onclick="return confirm('Delete this service?')">
        Delete
      </a>
    </td>
  </tr>
  {% empty %}
  <tr>
    <td colspan="4">No services</td>
  </tr>
  {% endfor %}
</table>

<!-- ADD SERVICE MODAL -->
<div class="modal fade" id="addServiceModal">
  <div class="modal-dialog">
    <form method="post" class="modal-content bg-dark text-white">
      {% csrf_token %}
      <div class="modal-header">
        <h5 class="text-warning">Add Service</h5>
      </div>

      <div class="modal-body">
        <input name="s_name" class="form-control mb-2" placeholder="Service name" required />
        <textarea name="s_description" class="form-control mb-2" placeholder="Description" required></textarea>
        <input name="s_price" type="number" class="form-control mb-2" placeholder="Price" required />
        <!-- 
        <select name="electrician" class="form-control" required>
          <option value="">Select Electrician</option>
          {% for e in electricians %}
          <option value="{{ e.id }}">{{ e.e_fullname }}</option>
          {% endfor %}
        </select> -->
      </div>

      <div class="modal-footer">
        <button class="btn btn-warning">Save</button>
      </div>
    </form>
  </div>
</div>

{% endblock %}